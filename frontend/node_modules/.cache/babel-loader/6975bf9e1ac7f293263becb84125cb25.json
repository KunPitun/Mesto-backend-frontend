{"ast":null,"code":"import _classCallCheck from\"C:/Users/nicky/dev/Project work 3/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/nicky/dev/Project work 3/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._autorization=headers.authorization;this._contentType=headers['Content-Type'];}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}},{key:\"getUserData\",value:function getUserData(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:{authorization:this._autorization}}).then(this._checkResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:{authorization:this._autorization,'Content-Type':this._contentType}}).then(this._checkResponse);}},{key:\"giveUserInfo\",value:function giveUserInfo(name,info){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:{authorization:this._autorization,'Content-Type':this._contentType},body:JSON.stringify({name:name,about:info})}).then(this._checkResponse);}},{key:\"giveCardInfo\",value:function giveCardInfo(place,link){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:{authorization:this._autorization,'Content-Type':this._contentType},body:JSON.stringify({name:place,link:link})}).then(this._checkResponse);}},{key:\"changeLikeStatus\",value:function changeLikeStatus(cardId,isLiked){if(isLiked){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:{authorization:this._autorization,'Content-Type':this._contentType}}).then(this._checkResponse);}else{return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:{authorization:this._autorization,'Content-Type':this._contentType}}).then(this._checkResponse);}}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:'DELETE',headers:{authorization:this._autorization,'Content-Type':this._contentType}}).then(this._checkResponse);}},{key:\"giveAvatarInfo\",value:function giveAvatarInfo(link){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:{authorization:this._autorization,'Content-Type':this._contentType},body:JSON.stringify({avatar:link})}).then(this._checkResponse);}}]);return Api;}();var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-44',headers:{authorization:'a36e0e0d-a48a-4afd-9e5d-855c3e7f30f4','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","baseUrl","headers","_baseUrl","_autorization","authorization","_contentType","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","name","info","method","body","JSON","stringify","about","place","link","cardId","isLiked","avatar","api"],"sources":["C:/Users/nicky/dev/Project work 3/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._autorization = headers.authorization;\r\n    this._contentType = headers['Content-Type'];\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._autorization\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._autorization,\r\n        'Content-Type': this._contentType\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  giveUserInfo(name, info) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._autorization,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: info\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  giveCardInfo(place, link) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._autorization,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        name: place,\r\n        link: link\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  changeLikeStatus(cardId, isLiked) {\r\n    if(isLiked) {\r\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          authorization: this._autorization,\r\n          'Content-Type': this._contentType\r\n        }\r\n      })\r\n        .then(this._checkResponse)\r\n    }\r\n    else {\r\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._autorization,\r\n          'Content-Type': this._contentType\r\n        }\r\n      })\r\n        .then(this._checkResponse)\r\n    }\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._autorization,\r\n        'Content-Type': this._contentType\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  giveAvatarInfo(link) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._autorization,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: link\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-44',\r\n  headers: {\r\n    authorization: 'a36e0e0d-a48a-4afd-9e5d-855c3e7f30f4',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module"}